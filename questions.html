<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <nav class="navbar navbar-light" style="background-color: #e3f2fd;">
    <a class="navbar-brand"><img src="img/logo.png" class="img-fluid" alt="Responsive image"
        style="width: 50px; height: 50px;"></a>
    <!-- Large button group -->
    <div class="btn-group">
      <button class="btn btn-default btn-lg dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true"
        aria-expanded="false">
        <img src="img/user.png" class="img-fluid" alt="Responsive image" style="width: 40px; height: 40px;"> Antonio
        Garcia <span class="caret"></span>
      </button>
      <ul class="dropdown-menu">
        <li><a href="#">Personaliar</a></li>
        <li role="separator" class="divider"></li>
        <li><a href="#">Cerrar Sesión</a></li>
      </ul>
    </div>
  </nav>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>

  <div class="container">
    <!--div class="setters">
      <div class="minutes-set">
        <button data-setter="minutes-plus">+</button>
        <button data-setter="minutes-minus">-</button>
      </div>
      <div class="seconds-set">
        <button data-setter="seconds-plus">+</button>
        <button data-setter="seconds-minus">-</button>
      </div>
    </div-->
    <div class="circle"> <svg width="300" viewBox="0 0 220 220" xmlns="http://www.w3.org/2000/svg">
        <g transform="translate(110,110)">
          <circle r="100" class="e-c-base"></circle>
          <g transform="rotate(-90)">
            <circle r="100" class="e-c-progress" style="stroke-dasharray: 628.319px; stroke-dashoffset: -1256.64px;">
            </circle>
            <g id="e-pointer" style="transform: rotate(360deg);">
              <circle cx="100" cy="0" r="8" class="e-c-pointer"></circle>
            </g>
          </g>
        </g>
      </svg> 
    </div>
    <div class="controlls">
      <div class="display-remain-time">00:30</div>
      <!--button class="play" id="pause"></button-->
    </div>
  </div>

  <div class="container">
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <div class="row">
      <div class="col-12">
        <div class="card">
          <h1 style="text-align: center;">Historia 1</h1>
          <div class="card-body">
            <div class="col-12">
              <div class="progress">
                <div class="progress-bar progress-bar-striped bg-success" role="progressbar" style="width: 25%"
                  aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
            <p></p>
            <p></p>
            <p></p>
            <p></p>
            <form>
              <h4>5. ¿Como se llama el actual presidente México?</h4>
              <p></p>
              <p></p>
              <p></p>
              <p></p>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1"
                  checked>
                <label class="form-check-label" for="exampleRadios1">
                  a) Felipe Calderon
                </label>
              </div>
              <p></p>
              <p></p>
              <p></p>
              <p></p>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
                <label class="form-check-label" for="exampleRadios2">
                  b) Vicente Fox
                </label>
              </div>
              <p></p>
              <p></p>
              <p></p>
              <p></p>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
                <label class="form-check-label" for="exampleRadios2">
                  c) Andres Manuel Lopez Obrador
                </label>
              </div>
              <p></p>
              <p></p>
              <p></p>
              <p></p>
              <div class="row">
                <div class="col-2">
                  <button type="button" class="btn btn-outline-primary">Pausa</button>
                </div>
                <div class="col-5">
                  <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-end">
                      <li class="page-item"><a class="page-link" href="#">1</a></li>
                      <li class="page-item"><a class="page-link" href="#">2</a></li>
                      <li class="page-item"><a class="page-link" href="#">3</a></li>
                      <li class="page-item"><a class="page-link" href="#">4</a></li>
                      <li class="page-item"><a class="page-link" href="#">5</a></li>
                    </ul>
                  </nav>
                </div>
                <div class="col">
                </div>
                <div class="col-1">
                </div>
                <div class="col-3">
                  <button type="button" class="btn btn-outline-primary">Atras</button>
                  <button type="button" class="btn btn-outline-primary">Siguiente</button>
                </div>
              </div>
          </div>
        </div>

        </form>
      </div>
    </div>
  </div>
  </div>

  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
    integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
    integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
    crossorigin="anonymous"></script>
  <script>
    //circle start
    let progressBar = document.querySelector('.e-c-progress');
    let indicator = document.getElementById('e-indicator');
    let pointer = document.getElementById('e-pointer');
    let length = Math.PI * 2 * 100;

    progressBar.style.strokeDasharray = length;

    function update(value, timePercent) {
      var offset = - length - length * value / (timePercent);
      progressBar.style.strokeDashoffset = offset;
      pointer.style.transform = `rotate(${360 * value / (timePercent)}deg)`;
    };

    //circle ends
    const displayOutput = document.querySelector('.display-remain-time')
    const pauseBtn = document.getElementById('pause');
    const setterBtns = document.querySelectorAll('button[data-setter]');

    let intervalTimer;
    let timeLeft;
    let wholeTime = 0.5 * 60; // manage this to set the whole time 
    let isPaused = false;
    let isStarted = false;


    update(wholeTime, wholeTime); //refreshes progress bar
    displayTimeLeft(wholeTime);

    function changeWholeTime(seconds) {
      if ((wholeTime + seconds) > 0) {
        wholeTime += seconds;
        update(wholeTime, wholeTime);
      }
    }

    for (var i = 0; i < setterBtns.length; i++) {
      setterBtns[i].addEventListener("click", function (event) {
        var param = this.dataset.setter;
        switch (param) {
          case 'minutes-plus':
            changeWholeTime(1 * 60);
            break;
          case 'minutes-minus':
            changeWholeTime(-1 * 60);
            break;
          case 'seconds-plus':
            changeWholeTime(1);
            break;
          case 'seconds-minus':
            changeWholeTime(-1);
            break;
        }
        displayTimeLeft(wholeTime);
      });
    }

    function timer(seconds) { //counts time, takes seconds
      let remainTime = Date.now() + (seconds * 1000);
      displayTimeLeft(seconds);

      intervalTimer = setInterval(function () {
        timeLeft = Math.round((remainTime - Date.now()) / 1000);
        if (timeLeft < 0) {
          clearInterval(intervalTimer);
          isStarted = false;
          setterBtns.forEach(function (btn) {
            btn.disabled = false;
            btn.style.opacity = 1;
          });
          displayTimeLeft(wholeTime);
          pauseBtn.classList.remove('pause');
          pauseBtn.classList.add('play');
          return;
        }
        displayTimeLeft(timeLeft);
      }, 1000);
    }
    function pauseTimer(event) {
      if (isStarted === false) {
        timer(wholeTime);
        isStarted = true;
        this.classList.remove('play');
        this.classList.add('pause');

        setterBtns.forEach(function (btn) {
          btn.disabled = true;
          btn.style.opacity = 0.5;
        });

      } else if (isPaused) {
        this.classList.remove('play');
        this.classList.add('pause');
        timer(timeLeft);
        isPaused = isPaused ? false : true
      } else {
        this.classList.remove('pause');
        this.classList.add('play');
        clearInterval(intervalTimer);
        isPaused = isPaused ? false : true;
      }
    }

    function displayTimeLeft(timeLeft) { //displays time on the input
      let minutes = Math.floor(timeLeft / 60);
      let seconds = timeLeft % 60;
      let displayString = `${minutes < 10 ? '0' : ''}${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
      displayOutput.textContent = displayString;
      update(timeLeft, wholeTime);
    }

    //pauseBtn.addEventListener('click', pauseTimer);
    pauseTimer();
  </script>

  <div class="container">

  </div>

</body>

</html>

<!--script>
    var tiempo = 1000;
     function cuentaRegresiva(){
     if (tiempo > 0){
        tiempo--
     }
     else{
         window.close();
      
     }
    document.getElementById("tiempoact").innerHTML=tiempo
     setTimeout("cuentaRegresiva()",1000)
     }
    window.onload=function(){
    cuentaRegresiva();
      };
    </script>
     
    Esto se cerrar en: <span id="tiempoact">
    </span> segundos--->